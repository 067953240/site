extends base
- load staticfiles

block media
    link(rel='stylesheet', href='{% static "timezone-map.css" %}')
    style
        .map-inset { background: url('#{TIMEZONE_MAP}') 50% 50% }
    if TIMEZONE_BG
        style
            .map-wrap { background: #{TIMEZONE_BG} }

block body
    form.form-area(action='', method='post')
        -csrf_token
        table(border=0, style='text-align:left') #{form.as_table}
        a(href='http://www.gravatar.com/', title='Change your avatar...', target='_blank') Change your avatar
        br
        hr
        a(href='{% url "password_change" %}') Change your password
        hr
        input(type='submit', style="float:right;", value='Update profile')

block bodyend
    script(type='text/javascript', src='{% static "timezone-picker.js" %}')
    script(type='text/javascript')
        $(function () {
            timezone_picker($('.map-inset'), $('#id_timezone'), '{% static "timezone-picker.json" %}');
        });