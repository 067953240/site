extends base

-load static from staticfiles
-load timedelta

block media
    meta(http-equiv='refresh', content='120')

block body
    p.
        This page shows the current status of Don Mills Online Judge.
        The page will automatically refresh every two minutes.
    h3 Judges
    hr
    table#judge-status.table
        tr
            th Name
            th Online
            th Uptime
            th Ping
            th Load
        for judge in judges
            tr
                td= judge.name
                td
                    if judge.online
                        img(src='{% static "admin/img/icon-yes.gif" %}')
                    else
                        img(src='{% static "admin/img/icon-yes.gif" %}')
                td #{judge.uptime|timedelta}
                td #{judge.ping_ms|floatformat:3} ms
                td= judge.load
